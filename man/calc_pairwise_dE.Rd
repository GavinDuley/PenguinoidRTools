% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cielab.funct.R
\name{calc_pairwise_dE}
\alias{calc_pairwise_dE}
\title{Calculate mean pairwise colour differences}
\usage{
calc_pairwise_dE(
  data,
  compare_by = "EtOH",
  reference_level = "CTRL",
  target_levels = NULL,
  group_by = NULL,
  method = "CIE1976"
)
}
\arguments{
\item{data}{A data.frame containing CIELab colour data with columns
\code{CIELab_L}, \code{CIELab_a}, and \code{CIELab_b}}

\item{compare_by}{Character name of the column containing the factor
to compare (default: "EtOH")}

\item{reference_level}{Character value within \code{compare_by} to use
as the reference for comparisons (default: "CTRL")}

\item{target_levels}{Character vector of levels to compare against reference.
If NULL, all non-reference levels are used.}

\item{group_by}{Character vector of column names to group by before
computing pairwise differences. NULL for no grouping.}

\item{method}{Character specifying the Delta E formula to use.
Either "CIE1976" (default) or "CIE2000".}
}
\value{
A data.frame with columns:
  \describe{
    \item{<group_by columns>}{Grouping variables (if specified)}
    \item{comparison}{Character description of the comparison}
    \item{dE_mean}{Mean Delta E across all pairwise comparisons}
    \item{dE_sd}{Standard deviation of Delta E values}
  }
}
\description{
Computes pairwise colour differences between all observations in a
reference group and all observations in target groups. This gives
a distribution of Delta E values rather than a single centroid-based value.
}
\details{
This function performs all-pairs comparisons between observations in
different groups. For each pair of (reference observation, target observation),
it computes Delta E, then summarises these values.

This approach captures the full variability in colour differences and is
useful when you need confidence intervals or want to assess the spread
of colour differences.

The function requires the \pkg{farver} package for CIE2000 calculations.
}
\examples{
\dontrun{
# Compare all treatments to control using CIE76
results <- calc_pairwise_dE(
  data = wine_colours,
  compare_by = "EtOH",
  reference_level = "CTRL"
)

# Use CIE2000 for more perceptually uniform differences
results <- calc_pairwise_dE(
  data = wine_colours,
  compare_by = "Treatment",
  reference_level = "Control",
  method = "CIE2000"
)

# Compare specific treatments only
results <- calc_pairwise_dE(
  data = wine_colours,
  compare_by = "Treatment",
  reference_level = "Control",
  target_levels = c("Low", "High")
)
}

}
\seealso{
\code{\link{calc_colour_diff}} for centroid-based comparisons
}
